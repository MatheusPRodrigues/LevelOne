@model UsuarioModel

@{
    ViewData["Title"] = "Login";
}

<div class="container mt-5" style="max-width:400px;">
    <div class="login-card shadow">
        <h3 class="text-center mb-3">Acesso ao Sistema</h3>
        <hr class="divider">

        <form asp-action="Login" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                <div class="mb-3">
                    <label asp-for="Cpf" class="form-label">CPF</label>
                    <input asp-for="Cpf" class="form-control" oninput="this.value = this.value.replace(/[^0-9]/g, '')" placeholder="Digite seu CPF"/>
                    <span asp-validation-for="Cpf" class="text-danger small"></span>
                </div>

                <div class="mb-3 position-relative">
                    <label class="form-label">Senha</label>
                    <input type="password" id="senha" name="senha" class="form-control" placeholder="Digite sua senha"
                           required/>
                    <span class="toggle-password" onclick="toggleSenha()">
                    <i class="bi bi-eye-slash" id="toggleIcon"></i>
                </span>
                </div>

                @if (ViewBag.Erro != null)
                {
                    <div class="alert alert-danger text-center">@ViewBag.Erro</div>
                }

                <button type="submit" class="btn btn-login w-100 fw-semibold">Entrar</button>
        </form>
    </div>
</div>

<script>
    function toggleSenha() {
        const senhaInput = document.getElementById("senha");
        const toggleIcon = document.getElementById("toggleIcon");

        if (senhaInput.type === "password") {
            senhaInput.type = "text";
            toggleIcon.classList.remove("bi-eye-slash");
            toggleIcon.classList.add("bi-eye");
        } else {
            senhaInput.type = "password";
            toggleIcon.classList.remove("bi-eye");
            toggleIcon.classList.add("bi-eye-slash");
        }
    }
</script>